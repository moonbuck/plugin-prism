{{ if (and (.Get 0) .Inner) }}

{{ $language := .Get 0 }}

{{ $code := .Inner | markdownify }}

{{ if hasPrefix $code "<pre><code>" }}

{{ $code = strings.TrimPrefix "<pre><code>" $code | strings.TrimSuffix "</code></pre>" }}

<pre class="line-numbers"><code class="language-{{ $language }}">
{{ $code | htmlUnescape | safeHTML }}
</code></pre>


{{ else if hasPrefix $code "<code>" }}

{{ $code = strings.TrimPrefix "<code>" $code | strings.TrimSuffix "</code>" }}

<code class="language-{{ $language }}">
{{ $code | htmlUnescape | safeHTML }}
</code>

{{ end }}

{{ end }}